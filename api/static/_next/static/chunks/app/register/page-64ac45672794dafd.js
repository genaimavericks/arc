(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1230:(e,t,r)=>{Promise.resolve().then(r.bind(r,6432))},6432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(5155),s=r(2115),i=r(1069),o=r(425),n=r(3638),l=r(7364),d=r(7410),c=r(1466),h=r(6462),u=r(8686),m=r(8173),g=r.n(m),f=r(4085),p=r(2336);function w(){let[e,t]=(0,s.useState)(""),[r,m]=(0,s.useState)(""),[w,b]=(0,s.useState)(""),[x,y]=(0,s.useState)(""),[v,k]=(0,s.useState)(""),{register:j,isLoading:N,error:A}=(0,i.A)(),S=async t=>{if(t.preventDefault(),w!==x){k("Passwords do not match");return}k(""),await j(e,r,w)};return(0,a.jsxs)("main",{className:"min-h-screen bg-white dark:bg-black/[0.96] antialiased bg-grid-white/[0.02] relative overflow-hidden",children:[(0,a.jsx)(g(),{href:"/",className:"absolute top-6 left-6 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-black/10 dark:bg-white/10 hover:bg-black/20 dark:hover:bg-white/20 transition-colors duration-200","aria-label":"Return to home page",children:(0,a.jsx)(l.A,{className:"w-5 h-5 text-black dark:text-white"})}),(0,a.jsx)("div",{className:"h-full w-full absolute inset-0 z-0",children:(0,a.jsx)(o.n,{id:"tsparticlesfullpage",background:"transparent",minSize:.6,maxSize:1.4,particleDensity:100,className:"w-full h-full",particleColor:"#FFFFFF"})}),(0,a.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen py-12",children:(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md p-8 bg-white/5 dark:bg-white/5 bg-black/5 backdrop-blur-sm rounded-lg border border-white/10 dark:border-white/10 border-black/10",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(d.A,{className:"w-12 h-12 text-purple-500"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground text-center mb-6",children:"Create Account"}),A&&(0,a.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-200 px-4 py-2 rounded-md mb-4",children:A}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground/70 dark:text-gray-300 mb-1",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)(p.p,{id:"username",type:"text",value:e,onChange:e=>t(e.target.value),className:"pl-10 bg-white/5 dark:bg-white/5 bg-black/5 border-white/10 dark:border-white/10 border-black/10 text-foreground",placeholder:"Choose a username",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground/70 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)(p.p,{id:"email",type:"email",value:r,onChange:e=>m(e.target.value),className:"pl-10 bg-white/5 dark:bg-white/5 bg-black/5 border-white/10 dark:border-white/10 border-black/10 text-foreground",placeholder:"Enter your email",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground/70 dark:text-gray-300 mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)(p.p,{id:"password",type:"password",value:w,onChange:e=>b(e.target.value),className:"pl-10 bg-white/5 dark:bg-white/5 bg-black/5 border-white/10 dark:border-white/10 border-black/10 text-foreground",placeholder:"Create a password",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground/70 dark:text-gray-300 mb-1",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)(p.p,{id:"confirmPassword",type:"password",value:x,onChange:e=>y(e.target.value),className:"pl-10 bg-white/5 dark:bg-white/5 bg-black/5 border-white/10 dark:border-white/10 border-black/10 text-foreground",placeholder:"Confirm your password",required:!0})]}),v&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:v})]}),(0,a.jsx)(f.Button,{type:"submit",className:"w-full bg-violet-600 hover:bg-violet-700 text-white btn-glow",disabled:N,children:N?"Creating Account...":"Register"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,a.jsx)(g(),{href:"/login",className:"text-purple-600 dark:text-purple-400 hover:text-purple-500 dark:hover:text-purple-300",children:"Login"})]})})]})})]})}},425:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var a=r(5155),s=r(2115),i=r(9474);let o=e=>{let{id:t="tsparticles",background:r="transparent",minSize:o=.6,maxSize:n=1.4,particleDensity:l=100,className:d="h-full w-full",particleColor:c="#FFFFFF"}=e,h=(0,s.useRef)(null),u=function(){let[e,t]=(0,s.useState)({x:0,y:0});return(0,s.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),[m,g]=(0,s.useState)({width:1200,height:800}),{theme:f}=(0,i.D)(),p="#FFFFFF"===c||"var(--foreground)"===c?"dark"===f?"rgba(255, 255, 255, 0.7)":"#212121":c;return(0,s.useEffect)(()=>{let e;g({width:window.innerWidth,height:window.innerHeight});let t=h.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let a=[];t.width=window.innerWidth,t.height=window.innerHeight;class s{update(){this.x+=this.speedX,this.y+=this.speedY,this.x>t.width&&(this.x=0),this.x<0&&(this.x=t.width),this.y>t.height&&(this.y=0),this.y<0&&(this.y=t.height),"in"===this.fadeDirection?(this.opacity+=.005,this.opacity>=.7&&(this.fadeDirection="out")):(this.opacity-=.005,this.opacity<=.2&&(this.fadeDirection="in"));let e=u.x-this.x,r=u.y-this.y,a=Math.sqrt(e*e+r*r);if(a<120){let t=Math.atan2(r,e),s=(120-a)/120;this.x-=Math.cos(t)*s*1.5,this.y-=Math.sin(t)*s*1.5,this.opacity=Math.min(.9,this.opacity+.1)}}draw(){if(!r)return;let e=p.startsWith("#")?i(p,this.opacity):p.replace(")",", ".concat(this.opacity,")")).replace("rgb","rgba");r.fillStyle=e,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill()}constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.size=Math.random()*(n-o)+o,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.opacity=.5*Math.random()+.2,this.fadeDirection=Math.random()>.5?"in":"out"}}let i=(e,t)=>{let r=Number.parseInt(e.slice(1,3),16),a=Number.parseInt(e.slice(3,5),16),s=Number.parseInt(e.slice(5,7),16);return"rgba(".concat(r,", ").concat(a,", ").concat(s,", ").concat(t,")")},d=()=>{a=[];for(let e=0;e<l;e++)a.push(new s)},c=()=>{r&&(r.clearRect(0,0,t.width,t.height),a.forEach(e=>{e.update(),e.draw()}),e=requestAnimationFrame(c))};d(),c();let m=()=>{t.width=window.innerWidth,t.height=window.innerHeight,g({width:window.innerWidth,height:window.innerHeight}),d()};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),cancelAnimationFrame(e)}},[n,o,p,l,u.x,u.y]),(0,a.jsx)("canvas",{ref:h,id:t,className:d,style:{background:r,width:m.width,height:m.height}})}},4085:(e,t,r)=>{"use strict";r.d(t,{Button:()=>d});var a=r(5155),s=r(2115),i=r(2317),o=r(6421),n=r(9602);let l=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...c}=e,h=d?i.DX:"button";return(0,a.jsx)(h,{className:(0,n.cn)(l({variant:s,size:o,className:r})),ref:t,...c})});d.displayName="Button"},2336:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(5155),s=r(2115),i=r(9602);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},1069:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>l});var a=r(5155),s=r(2115),i=r(6046),o=r(7358);let n=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[h,u]=(0,s.useState)(null),m=(0,i.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to parse stored user",e),localStorage.removeItem("user")}c(!1)},[]);let g=async(e,t)=>{c(!0),u(null);try{let r=o.env.NEXT_PUBLIC_API_URL||"/api",a="".concat(r,"/auth/token");console.log("Attempting to login at:",a);let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t})});if(!s.ok){let e=await s.json();throw Error(e.detail||"Login failed")}let i=await s.json();localStorage.setItem("token",i.access_token),localStorage.setItem("user",JSON.stringify({username:i.username,role:i.role,permissions:i.permissions||[]})),l({username:i.username,role:i.role,permissions:i.permissions||[]}),m.push("/")}catch(e){console.error("Login error:",e),u(e instanceof Error?e.message:"Login failed. Please check your credentials.")}finally{c(!1)}},f=async function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";c(!0),u(null);try{let s=o.env.NEXT_PUBLIC_API_URL||"/api",i="".concat(s,"/auth/register");console.log("Attempting to register at:",i);let n=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:r,role:a})});if(!n.ok){let e=await n.json();throw Error(e.detail||"Registration failed")}await g(e,r)}catch(e){console.error("Registration error:",e),u(e instanceof Error?e.message:"Registration failed"),c(!1)}},p=async e=>{c(!0),u(null);try{let t=o.env.NEXT_PUBLIC_API_URL||"/api",r="".concat(t,"/auth/forgot-password");console.log("Requesting password reset at:",r);let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!a.ok){let e=await a.json();throw Error(e.detail||"Failed to process request")}}catch(e){console.error("Forgot password error:",e),u(e instanceof Error?e.message:"Failed to process request")}finally{c(!1)}},w=async(e,t)=>{c(!0),u(null);try{let r=o.env.NEXT_PUBLIC_API_URL||"/api",a="".concat(r,"/auth/reset-password");console.log("Resetting password at:",a);let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})});if(!s.ok){let e=await s.json();throw Error(e.detail||"Failed to reset password")}}catch(e){throw console.error("Reset password error:",e),u(e instanceof Error?e.message:"Failed to reset password"),e}finally{c(!1)}};return(0,a.jsx)(n.Provider,{value:{user:r,login:g,register:f,forgotPassword:p,resetPassword:w,logout:()=>{sessionStorage.setItem("isLoggingOut","true"),localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),m.push("/")},isLoading:d,error:h},children:t})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9474:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,ThemeProvider:()=>o});var a=r(5155),s=r(2115);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)("dark");return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");e?o(e):o(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,s.useEffect)(()=>{"dark"===r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r)},[r]),(0,a.jsx)(i.Provider,{value:{theme:r,toggleTheme:()=>{o(e=>"dark"===e?"light":"dark")},setTheme:o},children:t})}function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9602:(e,t,r)=>{"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}r.d(t,{cn:()=>a})},7364:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7410:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},8686:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6462:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},1466:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[487,441,517,358],()=>t(1230)),_N_E=e.O()}]);