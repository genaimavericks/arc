"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{4110:(e,t,r)=>{r.d(t,{A:()=>w});var s=r(5155),a=r(4085),i=r(7725),n=r(2104),o=r(5236),l=r(8236),d=r(1466),c=r(6710),h=r(3638),u=r(8173),m=r.n(u),p=r(1069),g=r(9474),f=r(2115),x=r(5565);function w(){let{user:e,logout:t}=(0,p.A)(),{theme:r,toggleTheme:u}=(0,g.D)(),[w,v]=(0,f.useState)(!1),[b,y]=(0,f.useState)(!1);return(0,s.jsxs)(h.P.nav,{initial:{y:-100},animate:{y:0},className:"flex items-center justify-between px-6 py-4 backdrop-blur-sm border-b border-white/10 dark:border-white/10 border-black/10",children:[(0,s.jsxs)(m(),{href:"/",className:"flex items-center space-x-3 group",children:[(0,s.jsxs)(h.P.div,{className:"relative w-12 h-12",whileHover:{scale:1.1},whileTap:{scale:.95},onHoverStart:()=>y(!0),onHoverEnd:()=>y(!1),children:[(0,s.jsx)(h.P.div,{className:"absolute inset-0 rounded-full bg-purple-500/20 z-0",initial:{scale:0,opacity:0},animate:{scale:b?1.2:0,opacity:b?1:0},transition:{duration:.3}}),(0,s.jsx)(h.P.div,{animate:{rotate:b?[0,10,-10,0]:0},transition:{duration:.5,ease:"easeInOut",times:[0,.2,.8,1]},children:(0,s.jsx)(x.default,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/no_bg_logo-M7cBq60PCuZ1sN7MH6T2WMZRrdyQMZ.png",alt:"RSW Logo",width:48,height:48,className:"object-contain relative z-10"})})]}),(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-secondary to-accent font-bold text-xl md:text-2xl",children:"Cognitive Data Expert"})})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:u,className:"text-foreground hover:text-purple-400","aria-label":"dark"===r?"Switch to light mode":"Switch to dark mode",children:"dark"===r?(0,s.jsx)(i.A,{className:"h-5 w-5"}):(0,s.jsx)(n.A,{className:"h-5 w-5"})}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-foreground",children:"admin"===e.username&&"admin"===e.role?(0,s.jsx)("span",{className:"text-xs bg-purple-500 px-2 py-1 rounded-full",children:"admin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-medium",children:e.username}),(0,s.jsx)("span",{className:"ml-2 text-xs bg-purple-500 px-2 py-1 rounded-full",children:e.role})]})}),(0,s.jsxs)(a.Button,{variant:"ghost",className:"text-foreground hover:text-purple-400",onClick:t,children:[(0,s.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Logout"]}),"admin"===e.role&&(0,s.jsx)(m(),{href:"/admin",className:"flex items-center justify-center w-10 h-10 rounded-md bg-gradient-to-r from-primary to-secondary text-white transition-all duration-300 hover:shadow-lg hover:shadow-primary/20",children:(0,s.jsx)(l.A,{className:"w-5 h-5"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(m(),{href:"/login",className:"inline-flex items-center px-4 py-2 rounded-md bg-primary hover:bg-primary/90 text-white font-medium border border-primary/30 shadow-[0_0_15px_rgba(26,35,126,0.3)] transition-all duration-300 hover:scale-105",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Sign In"]})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"text-foreground",onClick:()=>v(!w),children:(0,s.jsx)(c.A,{className:"w-6 h-6"})})}),w&&(0,s.jsx)("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background/90 backdrop-blur-sm border-b border-black/10 dark:border-white/10 z-50",children:(0,s.jsx)("div",{className:"flex flex-col p-4 space-y-4",children:(0,s.jsx)("div",{className:"pt-2 border-t border-black/10 dark:border-white/10",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-foreground mb-2",children:"admin"===e.username&&"admin"===e.role?(0,s.jsx)("span",{className:"text-xs bg-purple-500 px-2 py-1 rounded-full",children:"admin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-medium",children:e.username}),(0,s.jsx)("span",{className:"ml-2 text-xs bg-purple-500 px-2 py-1 rounded-full",children:e.role})]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(a.Button,{variant:"ghost",className:"text-foreground hover:text-purple-400 flex-1 justify-start",onClick:()=>{t(),v(!1)},children:[(0,s.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Logout"]}),"admin"===e.role&&(0,s.jsx)(m(),{href:"/admin",className:"flex items-center justify-center w-10 h-10 rounded-md bg-gradient-to-r from-violet-600 to-purple-600 text-white",onClick:()=>v(!1),children:(0,s.jsx)(l.A,{className:"w-5 h-5"})})]})]}):(0,s.jsxs)(m(),{href:"/login",onClick:()=>v(!1),className:"inline-flex items-center px-4 py-2 rounded-md bg-purple-600 hover:bg-purple-700 text-white font-medium border border-purple-400 shadow-[0_0_15px_rgba(168,85,247,0.5)] w-full",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Sign In"]})})})})]})}},425:(e,t,r)=>{r.d(t,{n:()=>n});var s=r(5155),a=r(2115),i=r(9474);let n=e=>{let{id:t="tsparticles",background:r="transparent",minSize:n=.6,maxSize:o=1.4,particleDensity:l=100,className:d="h-full w-full",particleColor:c="#FFFFFF"}=e,h=(0,a.useRef)(null),u=function(){let[e,t]=(0,a.useState)({x:0,y:0});return(0,a.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),[m,p]=(0,a.useState)({width:1200,height:800}),{theme:g}=(0,i.D)(),f="#FFFFFF"===c||"var(--foreground)"===c?"dark"===g?"rgba(255, 255, 255, 0.7)":"#212121":c;return(0,a.useEffect)(()=>{let e;p({width:window.innerWidth,height:window.innerHeight});let t=h.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let s=[];t.width=window.innerWidth,t.height=window.innerHeight;class a{update(){this.x+=this.speedX,this.y+=this.speedY,this.x>t.width&&(this.x=0),this.x<0&&(this.x=t.width),this.y>t.height&&(this.y=0),this.y<0&&(this.y=t.height),"in"===this.fadeDirection?(this.opacity+=.005,this.opacity>=.7&&(this.fadeDirection="out")):(this.opacity-=.005,this.opacity<=.2&&(this.fadeDirection="in"));let e=u.x-this.x,r=u.y-this.y,s=Math.sqrt(e*e+r*r);if(s<120){let t=Math.atan2(r,e),a=(120-s)/120;this.x-=Math.cos(t)*a*1.5,this.y-=Math.sin(t)*a*1.5,this.opacity=Math.min(.9,this.opacity+.1)}}draw(){if(!r)return;let e=f.startsWith("#")?i(f,this.opacity):f.replace(")",", ".concat(this.opacity,")")).replace("rgb","rgba");r.fillStyle=e,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill()}constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.size=Math.random()*(o-n)+n,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.opacity=.5*Math.random()+.2,this.fadeDirection=Math.random()>.5?"in":"out"}}let i=(e,t)=>{let r=Number.parseInt(e.slice(1,3),16),s=Number.parseInt(e.slice(3,5),16),a=Number.parseInt(e.slice(5,7),16);return"rgba(".concat(r,", ").concat(s,", ").concat(a,", ").concat(t,")")},d=()=>{s=[];for(let e=0;e<l;e++)s.push(new a)},c=()=>{r&&(r.clearRect(0,0,t.width,t.height),s.forEach(e=>{e.update(),e.draw()}),e=requestAnimationFrame(c))};d(),c();let m=()=>{t.width=window.innerWidth,t.height=window.innerHeight,p({width:window.innerWidth,height:window.innerHeight}),d()};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),cancelAnimationFrame(e)}},[o,n,f,l,u.x,u.y]),(0,s.jsx)("canvas",{ref:h,id:t,className:d,style:{background:r,width:m.width,height:m.height}})}},4085:(e,t,r)=>{r.d(t,{Button:()=>d,r:()=>l});var s=r(5155),a=r(2115),i=r(2317),n=r(6421),o=r(9602);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...c}=e,h=d?i.DX:"button";return(0,s.jsx)(h,{className:(0,o.cn)(l({variant:a,size:n,className:r})),ref:t,...c})});d.displayName="Button"},1069:(e,t,r)=>{r.d(t,{A:()=>d,AuthProvider:()=>l});var s=r(5155),a=r(2115),i=r(6046),n=r(7358);let o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),[h,u]=(0,a.useState)(null),m=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to parse stored user",e),localStorage.removeItem("user")}c(!1)},[]);let p=async(e,t)=>{c(!0),u(null);try{let r=n.env.NEXT_PUBLIC_API_URL||"/api",s="".concat(r,"/auth/token");console.log("Attempting to login at:",s);let a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t})});if(!a.ok){let e=await a.json();throw Error(e.detail||"Login failed")}let i=await a.json();localStorage.setItem("token",i.access_token),localStorage.setItem("user",JSON.stringify({username:i.username,role:i.role,permissions:i.permissions||[]})),l({username:i.username,role:i.role,permissions:i.permissions||[]}),m.push("/")}catch(e){console.error("Login error:",e),u(e instanceof Error?e.message:"Login failed. Please check your credentials.")}finally{c(!1)}},g=async function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";c(!0),u(null);try{let a=n.env.NEXT_PUBLIC_API_URL||"/api",i="".concat(a,"/auth/register");console.log("Attempting to register at:",i);let o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:r,role:s})});if(!o.ok){let e=await o.json();throw Error(e.detail||"Registration failed")}await p(e,r)}catch(e){console.error("Registration error:",e),u(e instanceof Error?e.message:"Registration failed"),c(!1)}},f=async e=>{c(!0),u(null);try{let t=n.env.NEXT_PUBLIC_API_URL||"/api",r="".concat(t,"/auth/forgot-password");console.log("Requesting password reset at:",r);let s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!s.ok){let e=await s.json();throw Error(e.detail||"Failed to process request")}}catch(e){console.error("Forgot password error:",e),u(e instanceof Error?e.message:"Failed to process request")}finally{c(!1)}},x=async(e,t)=>{c(!0),u(null);try{let r=n.env.NEXT_PUBLIC_API_URL||"/api",s="".concat(r,"/auth/reset-password");console.log("Resetting password at:",s);let a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})});if(!a.ok){let e=await a.json();throw Error(e.detail||"Failed to reset password")}}catch(e){throw console.error("Reset password error:",e),u(e instanceof Error?e.message:"Failed to reset password"),e}finally{c(!1)}};return(0,s.jsx)(o.Provider,{value:{user:r,login:p,register:g,forgotPassword:f,resetPassword:x,logout:()=>{sessionStorage.setItem("isLoggingOut","true"),localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),m.push("/")},isLoading:d,error:h},children:t})}function d(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9474:(e,t,r)=>{r.d(t,{D:()=>o,ThemeProvider:()=>n});var s=r(5155),a=r(2115);let i=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,a.useState)("dark");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e?n(e):n(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,a.useEffect)(()=>{"dark"===r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r)},[r]),(0,s.jsx)(i.Provider,{value:{theme:r,toggleTheme:()=>{n(e=>"dark"===e?"light":"dark")},setTheme:n},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9602:(e,t,r)=>{r.d(t,{cn:()=>s});function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}}}]);