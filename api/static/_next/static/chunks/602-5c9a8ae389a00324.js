"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{425:(e,t,r)=>{r.d(t,{n:()=>n});var i=r(5155),o=r(2115),a=r(9474);let n=e=>{let{id:t="tsparticles",background:r="transparent",minSize:n=.6,maxSize:s=1.4,particleDensity:l=100,className:d="h-full w-full",particleColor:h="#FFFFFF"}=e,c=(0,o.useRef)(null),u=function(){let[e,t]=(0,o.useState)({x:0,y:0});return(0,o.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),[f,g]=(0,o.useState)({width:1200,height:800}),{theme:p}=(0,a.D)(),m="#FFFFFF"===h||"var(--foreground)"===h?"dark"===p?"rgba(255, 255, 255, 0.7)":"#212121":h;return(0,o.useEffect)(()=>{let e;g({width:window.innerWidth,height:window.innerHeight});let t=c.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let i=[];t.width=window.innerWidth,t.height=window.innerHeight;class o{update(){this.x+=this.speedX,this.y+=this.speedY,this.x>t.width&&(this.x=0),this.x<0&&(this.x=t.width),this.y>t.height&&(this.y=0),this.y<0&&(this.y=t.height),"in"===this.fadeDirection?(this.opacity+=.005,this.opacity>=.7&&(this.fadeDirection="out")):(this.opacity-=.005,this.opacity<=.2&&(this.fadeDirection="in"));let e=u.x-this.x,r=u.y-this.y,i=Math.sqrt(e*e+r*r);if(i<120){let t=Math.atan2(r,e),o=(120-i)/120;this.x-=Math.cos(t)*o*1.5,this.y-=Math.sin(t)*o*1.5,this.opacity=Math.min(.9,this.opacity+.1)}}draw(){if(!r)return;let e=m.startsWith("#")?a(m,this.opacity):m.replace(")",", ".concat(this.opacity,")")).replace("rgb","rgba");r.fillStyle=e,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill()}constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.size=Math.random()*(s-n)+n,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.opacity=.5*Math.random()+.2,this.fadeDirection=Math.random()>.5?"in":"out"}}let a=(e,t)=>{let r=Number.parseInt(e.slice(1,3),16),i=Number.parseInt(e.slice(3,5),16),o=Number.parseInt(e.slice(5,7),16);return"rgba(".concat(r,", ").concat(i,", ").concat(o,", ").concat(t,")")},d=()=>{i=[];for(let e=0;e<l;e++)i.push(new o)},h=()=>{r&&(r.clearRect(0,0,t.width,t.height),i.forEach(e=>{e.update(),e.draw()}),e=requestAnimationFrame(h))};d(),h();let f=()=>{t.width=window.innerWidth,t.height=window.innerHeight,g({width:window.innerWidth,height:window.innerHeight}),d()};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(e)}},[s,n,m,l,u.x,u.y]),(0,i.jsx)("canvas",{ref:c,id:t,className:d,style:{background:r,width:f.width,height:f.height}})}},4085:(e,t,r)=>{r.d(t,{Button:()=>d,r:()=>l});var i=r(5155),o=r(2115),a=r(2317),n=r(6421),s=r(9602);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:r,variant:o,size:n,asChild:d=!1,...h}=e,c=d?a.DX:"button";return(0,i.jsx)(c,{className:(0,s.cn)(l({variant:o,size:n,className:r})),ref:t,...h})});d.displayName="Button"},2336:(e,t,r)=>{r.d(t,{p:()=>n});var i=r(5155),o=r(2115),a=r(9602);let n=o.forwardRef((e,t)=>{let{className:r,type:o,...n}=e;return(0,i.jsx)("input",{type:o,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},1069:(e,t,r)=>{r.d(t,{A:()=>d,AuthProvider:()=>l});var i=r(5155),o=r(2115),a=r(6046),n=r(7358);let s=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,o.useState)(null),[d,h]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null),f=(0,a.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to parse stored user",e),localStorage.removeItem("user")}h(!1)},[]);let g=async(e,t)=>{h(!0),u(null);try{let r=n.env.NEXT_PUBLIC_API_URL||"/api",i="".concat(r,"/auth/token");console.log("Attempting to login at:",i);let o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t})});if(!o.ok){let e=await o.json();throw Error(e.detail||"Login failed")}let a=await o.json();localStorage.setItem("token",a.access_token),localStorage.setItem("user",JSON.stringify({username:a.username,role:a.role,permissions:a.permissions||[]})),l({username:a.username,role:a.role,permissions:a.permissions||[]}),f.push("/")}catch(e){console.error("Login error:",e),u(e instanceof Error?e.message:"Login failed. Please check your credentials.")}finally{h(!1)}},p=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";h(!0),u(null);try{let o=n.env.NEXT_PUBLIC_API_URL||"/api",a="".concat(o,"/auth/register");console.log("Attempting to register at:",a);let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:r,role:i})});if(!s.ok){let e=await s.json();throw Error(e.detail||"Registration failed")}await g(e,r)}catch(e){console.error("Registration error:",e),u(e instanceof Error?e.message:"Registration failed"),h(!1)}},m=async e=>{h(!0),u(null);try{let t=n.env.NEXT_PUBLIC_API_URL||"/api",r="".concat(t,"/auth/forgot-password");console.log("Requesting password reset at:",r);let i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!i.ok){let e=await i.json();throw Error(e.detail||"Failed to process request")}}catch(e){console.error("Forgot password error:",e),u(e instanceof Error?e.message:"Failed to process request")}finally{h(!1)}},w=async(e,t)=>{h(!0),u(null);try{let r=n.env.NEXT_PUBLIC_API_URL||"/api",i="".concat(r,"/auth/reset-password");console.log("Resetting password at:",i);let o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})});if(!o.ok){let e=await o.json();throw Error(e.detail||"Failed to reset password")}}catch(e){throw console.error("Reset password error:",e),u(e instanceof Error?e.message:"Failed to reset password"),e}finally{h(!1)}};return(0,i.jsx)(s.Provider,{value:{user:r,login:g,register:p,forgotPassword:m,resetPassword:w,logout:()=>{sessionStorage.setItem("isLoggingOut","true"),localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),f.push("/")},isLoading:d,error:c},children:t})}function d(){let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9474:(e,t,r)=>{r.d(t,{D:()=>s,ThemeProvider:()=>n});var i=r(5155),o=r(2115);let a=(0,o.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,o.useState)("dark");return(0,o.useEffect)(()=>{let e=localStorage.getItem("theme");e?n(e):n(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,o.useEffect)(()=>{"dark"===r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r)},[r]),(0,i.jsx)(a.Provider,{value:{theme:r,toggleTheme:()=>{n(e=>"dark"===e?"light":"dark")},setTheme:n},children:t})}function s(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9602:(e,t,r)=>{r.d(t,{cn:()=>i});function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}},7364:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(7401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7410:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(7401).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},3239:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(7401).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1569:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(7401).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}}]);